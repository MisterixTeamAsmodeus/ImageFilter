#pragma once

class ImageProcessor;

/**
 * @brief Базовый интерфейс для всех фильтров изображений
 * 
 * Использует полиморфизм для единообразной работы с различными фильтрами.
 * Все фильтры должны наследоваться от этого интерфейса и реализовывать метод apply().
 * 
 * Особенности C++20:
 * - Использует виртуальный деструктор для корректного удаления объектов через указатель на базовый класс
 * - Позволяет работать с фильтрами через указатели на интерфейс (паттерн Strategy)
 */
class IFilter {
public:
    /**
     * @brief Виртуальный деструктор
     * 
     * Необходим для корректного удаления объектов через указатель на базовый класс
     */
    virtual ~IFilter() = default;

    /**
     * @brief Применяет фильтр к изображению
     * @param image Обрабатываемое изображение
     * @return true если фильтр применен успешно, false в противном случае
     */
    virtual bool apply(ImageProcessor& image) = 0;
};

